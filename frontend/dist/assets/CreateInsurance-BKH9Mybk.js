import{r as a,e as D,f as q,u as C,g as T,N as k,J as E,j as e,k as L,O,A as d}from"./index-CClPGwUg.js";const R="/assets/Insurance-kIdXP_OR.jpg",B=()=>{var p,h,y;a.useState("");const[t,m]=a.useState(""),[x,g]=a.useState("");D();const i=q(),{isInsuranceLoading:b,isInsuranceCreated:f}=C(n=>n.insurance),{register:l,formState:{errors:s},handleSubmit:j,reset:I,clearErrors:N}=T(),c=a.useRef(),w=n=>{try{const{insuranceType:r,insuranceDescription:o}=n;if(x){const S=JSON.stringify({insuranceType:r,insuranceDescription:o}),u=new FormData;u.append("payload",S),u.append("mediaFile",x),i(O(u))}else d.error("Please Select a Insurance Icon")}catch(r){d.error(r.message)}},v=n=>{try{if(n.target.files){const{files:r}=n==null?void 0:n.target;let o=URL.createObjectURL(r[0]);m(o),g(r[0]),N("insuranceIcon")}}catch(r){d.error(r.message)}};return a.useEffect(()=>{f&&(i(k(!1)),I(),i(E()),m(""),g(""))},[f]),e.jsx("div",{children:e.jsx("div",{className:"min-h-screen bg-gray-100 text-gray-900 flex justify-center",children:e.jsxs("div",{className:"max-w-screen-xl m-0 sm:m-5 bg-white shadow sm:rounded-lg flex justify-center flex-1",children:[e.jsxs("div",{className:"lg:w-1/2 xl:w-5/12 p-6 sm:p-12",children:[e.jsx("h1",{className:"text-center font-bold text-blue-600 text-sm sm:text-lg md:text-xl",children:"Create Insurance"}),e.jsx("div",{className:"mt-12 flex flex-col items-center",children:e.jsx("div",{className:"w-full flex-1 mt-8",children:e.jsxs("form",{className:"mx-auto max-w-xs",onSubmit:j(w),children:[e.jsx("input",{className:"w-full px-8 py-4 rounded-lg font-medium bg-gray-100 border border-gray-200 placeholder-gray-500 text-sm focus:outline-none focus:border-gray-400 focus:bg-white",type:"text",placeholder:"Insurance Type",...l("insuranceType",{required:{value:!0,message:"Insurance Type is a required field"}})}),s.insuranceType&&e.jsx("p",{className:"text-red-500 mt-1",children:((p=s==null?void 0:s.insuranceType)==null?void 0:p.message)||"Insurance Type is a required field"}),e.jsx("textarea",{className:"w-full max-h-[200px] px-8 py-4 rounded-lg font-medium bg-gray-100 border border-gray-200 placeholder-gray-500 text-sm focus:outline-none focus:border-gray-400 focus:bg-white mt-5",type:"text",placeholder:"Insurance Description",...l("insuranceDescription",{required:{value:!0,message:"Insurance Description is a required field"}})}),s.insuranceDescription&&e.jsx("p",{className:"text-red-500 mt-1",children:((h=s==null?void 0:s.insuranceDescription)==null?void 0:h.message)||"Insurance Description is a required field"}),e.jsx("input",{className:"w-full hidden px-8 py-4 rounded-lg font-medium bg-gray-100 border border-gray-200 placeholder-gray-500 text-sm focus:outline-none focus:border-gray-400 focus:bg-white mt-5",type:"file",placeholder:"Insurance Icon",...l("insuranceIcon",{required:{value:!1,message:"Insurance Icon is a required field"}}),ref:c,onChange:v}),e.jsxs("div",{className:`w-full px-8 py-4 rounded-lg font-medium bg-gray-100 border border-gray-200 placeholder-gray-500 text-sm focus:outline-none cursor-pointer focus:border-gray-400 focus:bg-white mt-5 max-h-[200px] ${t?"flex justify-center h-[200px]":""}`,onClick:()=>{var n;(n=c==null?void 0:c.current)==null||n.click()},children:[!t&&e.jsxs("p",{className:"text-gray-500 font-medium",children:[e.jsxs("span",{className:"text-red-500 font-bold",children:["Select :"," "]}),"Insurance Icon"]}),t&&e.jsx("img",{src:t,className:" !h-[100%]"})]}),(s==null?void 0:s.insuranceIcon)&&e.jsx("p",{className:"text-red-500 mt-1",children:((y=s==null?void 0:s.insuranceIcon)==null?void 0:y.message)||"Insurance Icon is a required field"}),b?e.jsx("button",{className:"mt-5 tracking-wide font-semibold bg-green-400 text-white-500 w-full py-4 rounded-lg hover:bg-green-700 transition-all duration-300 ease-in-out flex items-center justify-center focus:shadow-outline focus:outline-none",type:"button",children:e.jsx(L,{})}):e.jsx("button",{className:"mt-5 tracking-wide font-semibold bg-green-400 text-white-500 w-full py-4 rounded-lg hover:bg-green-700 transition-all duration-300 ease-in-out flex items-center justify-center focus:shadow-outline focus:outline-none",type:"submit",children:e.jsx("span",{className:"ml-",children:"Create Insurance"})}),e.jsxs("p",{className:"mt-6 text-xs text-gray-600 text-center",children:["Shiven Consultancy ",e.jsx("br",{})]})]})})})]}),e.jsx("div",{className:"flex-1 bg-green-100 text-center hidden lg:flex",children:e.jsx("img",{src:R,className:"w-full"})})]})})})};export{B as default};
